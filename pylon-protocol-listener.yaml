substitutions:
  device_name: pylon-protocol-listener
  name: Pylon protocol listener

esphome:
  name: pylon-protocol-listener
  friendly_name: pylon-protocol-listener

esp32:
  board: esp32dev
  framework:
    type: arduino

packages:
  pace_bms_common: !include .pace-bms-base.yaml

modbus:
  - id: !remove modbus0

# Enable logging
logger:

button:
  - id: send_frame_1
    name: Send frame 1
    platform: template
    on_press: 
      uart.write: [0x7E, 0x32, 0x30, 0x30, 0x32, 0x34, 0x36, 0x36, 0x31, 0x45, 0x30, 0x30, 0x32, 0x30, 0x31, 0x46, 0x44, 0x33, 0x33, 0x0D]
  - id: send_frame_2
    name: Send frame 2
    platform: template
    on_press: 
      uart.write: [0x7E, 0x32, 0x30, 0x31, 0x32, 0x34, 0x36, 0x36, 0x31, 0x30, 0x30, 0x30, 0x30, 0x46, 0x44, 0x41, 0x41, 0x0D]
  - id: send_frame_3
    name: Send frame 3
    platform: template
    on_press: 
      uart.write: [0x7E, 0x32, 0x30, 0x31, 0x32, 0x34, 0x36, 0x30, 0x30, 0x38, 0x30, 0x36, 0x32, 0x32, 0x45, 0x35, 0x33, 0x36, 0x31, 0x41, 0x38, 0x36, 0x32, 0x30, 0x39, 0x44, 0x34, 0x30, 0x42, 0x37, 0x34, 0x36, 0x32, 0x36, 0x31, 0x30, 0x44, 0x42, 0x38, 0x30, 0x33, 0x30, 0x34, 0x30, 0x43, 0x42, 0x42, 0x30, 0x31, 0x30, 0x34, 0x38, 0x45, 0x39, 0x41, 0x39, 0x33, 0x41, 0x45, 0x30, 0x33, 0x30, 0x34, 0x38, 0x39, 0x38, 0x36, 0x30, 0x31, 0x30, 0x35, 0x38, 0x45, 0x39, 0x41, 0x39, 0x34, 0x31, 0x32, 0x30, 0x33, 0x30, 0x36, 0x38, 0x39, 0x32, 0x32, 0x30, 0x31, 0x30, 0x36, 0x38, 0x45, 0x39, 0x41, 0x39, 0x33, 0x34, 0x41, 0x30, 0x33, 0x30, 0x37, 0x38, 0x39, 0x45, 0x41, 0x30, 0x31, 0x30, 0x37, 0x45, 0x38, 0x39, 0x41, 0x0D, 0x18, 0x29, 0x15]
# interval:
#  - interval: 500ms
  #  then:
  #    uart.write: [0x7E, 0x32, 0x30, 0x30, 0x32, 0x34, 0x36, 0x36, 0x31, 0x45, 0x30, 0x30, 0x32, 0x30, 0x31, 0x46, 0x44, 0x33, 0x33, 0x0D]